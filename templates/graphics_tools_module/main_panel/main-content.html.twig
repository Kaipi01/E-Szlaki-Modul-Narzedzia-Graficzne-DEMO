<div class="app-container">

    <!-- Boczny panel -->
    <div class="side-area modern-card">

        <!-- Sekcja z informacjami o użytkowniku -->
        <div class="user-profile">
            <div class="user-avatar">
                <img src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80"
                    alt="Użytkownik">
            </div>
            <h3 class="user-name">Jan Kowalski</h3>
            <p class="user-email">jan.kowalski@example.com</p> 
        </div>

        <!-- Sekcja statystyk -->
        <div class="side-area-header-wrapper">
            <p class="side-area-header">Statystyki</p>
        </div>

        <div class="stats-chart-container">

            <circular-progress-bar data-label="6.5 GB z 10 GB wykorzystane" data-pie='{
                "lineargradient": ["#14a5ff", "#008be2"],
                "round": true,
                "percent": 37,
                "colorCircle": "rgba(63, 98, 74, 0.25)"
                }'>
            </circular-progress-bar>
            
        </div>

        <div class="stats-container">
            <div class="stat-item">
                <div class="stat-value">482</div>
                <div class="stat-label">Wszystkie zdjęcia</div>
            </div>
            <div class="stat-item">
                <div class="stat-value">12</div>
                <div class="stat-label">Albumy</div>
            </div>
            <div class="stat-item">
                <div class="stat-value">35</div>
                <div class="stat-label">Udostępnione</div>
            </div>
        </div>

        <!-- Sekcja z ostatnimi aktywnościami -->
        <div class="side-area-header-wrapper">
            <p class="side-area-header">Ostatnie aktywności</p>
            <button class="more-action"></button>
        </div>

        <div class="activity-list">
            <div class="activity-item">
                <div class="activity-icon upload">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="17 8 12 3 7 8"></polyline>
                        <line x1="12" y1="3" x2="12" y2="15"></line>
                    </svg>
                </div>
                <div class="activity-content">
                    <p class="activity-text">Przesłano 3 nowe zdjęcia do albumu "Wakacje 2025"</p>
                    <p class="activity-time">Dzisiaj, 08:15</p>
                </div>
            </div>
            <div class="activity-item">
                <div class="activity-icon edit">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                        <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                    </svg>
                </div>
                <div class="activity-content">
                    <p class="activity-text">Edytowano zdjęcie "Portret_rodzinny.jpg"</p>
                    <p class="activity-time">Wczoraj, 19:42</p>
                </div>
            </div>
            <div class="activity-item">
                <div class="activity-icon share">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="18" cy="5" r="3"></circle>
                        <circle cx="6" cy="12" r="3"></circle>
                        <circle cx="18" cy="19" r="3"></circle>
                        <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
                        <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
                    </svg>
                </div>
                <div class="activity-content">
                    <p class="activity-text">Udostępniono album "Rodzina" dla 2 osób</p>
                    <p class="activity-time">03.05.2025, 14:30</p>
                </div>
            </div>
        </div>

        <!-- Sekcja pobierania plików -->
        <div class="right-area-header-wrapper">
            <p class="right-area-header">Pobierania</p>
            <button class="more-action"></button>
        </div>

        <div class="download-item-line">
            <div class="line-header">Dzisiaj</div>
            <div class="download-area">
                <div class="download-item-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="">
                        <defs></defs>
                        <circle cx="256" cy="256" r="256" fill="#4b50dd"></circle>
                        <path fill="#f5f5f5"
                            d="M192 64h176c4.4 0 8 3.6 8 8v328c0 4.4-3.6 8-8 8H120c-4.4 0-8-3.6-8-8V148l80-84z"></path>
                        <path fill="#e6e6e6" d="M184 148c4.4 0 8-3.6 8-8V64l-80 84h72z"></path>
                        <circle cx="352" cy="384" r="52" fill="#2179a6"></circle>
                        <g fill="#f5f5f5" class="g">
                            <path
                                d="M352 416c-2.208 0-4-1.788-4-4v-56c0-2.212 1.792-4 4-4s4 1.788 4 4v56c0 2.212-1.792 4-4 4z">
                            </path>
                            <path
                                d="M352 416a3.989 3.989 0 01-2.828-1.172l-20-20c-1.564-1.564-1.564-4.092 0-5.656s4.092-1.564 5.656 0L352 406.344l17.172-17.172c1.564-1.564 4.092-1.564 5.656 0s1.564 4.092 0 5.656l-20 20A3.989 3.989 0 01352 416z">
                            </path>
                        </g>
                    </svg>
                </div>
                <div class="download-item-texts">
                    <p class="download-text-header">Wakacje2025.jpg</p>
                    <p class="download-text-info">4.2 MB<span>Oczekiwanie na pobranie</span></p>
                </div>
                <div class="download-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 612 612">
                        <defs></defs>
                        <path
                            d="M403.939 295.749l-78.814 78.833V172.125c0-10.557-8.568-19.125-19.125-19.125s-19.125 8.568-19.125 19.125v202.457l-78.814-78.814c-7.478-7.478-19.584-7.478-27.043 0-7.478 7.478-7.478 19.584 0 27.042L289.208 431c4.59 4.59 10.863 6.005 16.812 4.953 5.929 1.052 12.221-.382 16.811-4.953l108.19-108.19c7.478-7.478 7.478-19.583 0-27.042-7.498-7.478-19.604-7.478-27.082-.019z">
                        </path>
                        <path
                            d="M306 0C137.012 0 0 136.992 0 306s137.012 306 306 306 306-137.012 306-306S475.008 0 306 0zm0 573.75C158.125 573.75 38.25 453.875 38.25 306S158.125 38.25 306 38.25 573.75 158.125 573.75 306 453.875 573.75 306 573.75z">
                        </path>
                    </svg>
                </div>
            </div>
        </div>
        <div class="download-item-line">
            <div class="line-header">Wczoraj</div>
            <div class="download-area">
                <div class="download-item-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="">
                        <defs></defs>
                        <circle cx="256" cy="256" r="256" fill="#4bc0dd"></circle>
                        <path fill="#f5f5f5"
                            d="M192 64h176c4.4 0 8 3.6 8 8v328c0 4.4-3.6 8-8 8H120c-4.4 0-8-3.6-8-8V148l80-84z"></path>
                        <path fill="#e6e6e6" d="M184 148c4.4 0 8-3.6 8-8V64l-80 84h72z"></path>
                        <circle cx="352" cy="384" r="52" fill="#2179a6"></circle>
                        <g fill="#f5f5f5" class="g">
                            <path
                                d="M352 416c-2.208 0-4-1.788-4-4v-56c0-2.212 1.792-4 4-4s4 1.788 4 4v56c0 2.212-1.792 4-4 4z">
                            </path>
                            <path
                                d="M352 416a3.989 3.989 0 01-2.828-1.172l-20-20c-1.564-1.564-1.564-4.092 0-5.656s4.092-1.564 5.656 0L352 406.344l17.172-17.172c1.564-1.564 4.092-1.564 5.656 0s1.564 4.092 0 5.656l-20 20A3.989 3.989 0 01352 416z">
                            </path>
                        </g>
                    </svg>
                </div>
                <div class="download-item-texts">
                    <p class="download-text-header">Rodzina_2025.jpg</p>
                    <div class="progress-bar">
                        <span class="progress" style="width: 65%"></span>
                    </div>
                </div>
                <div class="download-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="1 1 512 512">
                        <defs></defs>
                        <path
                            d="M256 512C114.613 512 0 397.383 0 256S114.613 0 256 0s256 114.613 256 256c-.168 141.316-114.684 255.832-256 256zm0-480C132.29 32 32 132.29 32 256s100.29 224 224 224 224-100.29 224-224c-.133-123.656-100.344-223.867-224-224zm0 0">
                        </path>
                        <path
                            d="M208 368c-8.836 0-16-7.164-16-16V160c0-8.836 7.164-16 16-16s16 7.164 16 16v192c0 8.836-7.164 16-16 16zm0 0M304 368c-8.836 0-16-7.164-16-16V160c0-8.836 7.164-16 16-16s16 7.164 16 16v192c0 8.836-7.164 16-16 16zm0 0">
                        </path>
                    </svg>
                </div>
            </div>
        </div>

    </div>

    <!-- Główny obszar -->
    <div class="main-area modern-card">

        <!-- Nagłówek z wyszukiwarką -->
        <div class="main-area-header">
            <p class="app-name">Narzędzia Graficzne</p>

            <custom-search-form data-id="gtm-search-input-for-images" data-for-panel="main"></custom-search-form>

        </div>

        <!-- Sekcja szybkiego dostępu -->
        <section class="content-section">

            <p class="section-header">Szybki dostęp</p>

            <ul class="access-links">
                <li>
                    <a class="access-link-wrapper access-link-wrapper-1 modern-card" href="#">
                        <i class="fa-solid fa-image access-icon"></i>
                        <span class="access-text">Wszystkie zdjęcia</span>
                    </a>
                </li>
                <li>
                    <a class="access-link-wrapper access-link-wrapper-2 modern-card" href="#">
                        <i class="fa-solid fa-calendar-days access-icon"></i>
                        <span class="access-text">Ostatnie</span>
                    </a>
                </li>
                <li>
                    <a class="access-link-wrapper access-link-wrapper-3 modern-card" href="#">
                        <i class="fa-solid fa-cloud-arrow-down access-icon"></i>
                        <span class="access-text">Pobrane</span>
                    </a>
                </li>
            </ul>

        </section>

        {% if userImages | length > 0 %}

        <section class="content-section">
            <div class="section-header-wrapper">
                <p class="section-header">Ostatnie zdjęcia</p>
                <a href="#" class="section-header-link">Zobacz wszystkie</a>
            </div>

            <images-gallery-modal></images-gallery-modal>  

            <div class="content-section-line"> 

                {% for image in userImages | slice(0, 3) %}
                        
                    <a href="#" aria-current="page" class="image-wrapper" data-gallery-preview data-src="{{ image.src }}">
                        <div class="image-overlay">
                            <div class="photo-info">
                                <div class="photo-info-text">
                                    <p class="photo-name medium">{{ image.name }}</p>
                                    <p class="photo-subtext medium">{{ image.size | formatBytes }}</p>
                                </div>
                            </div>
                        </div>

                        <img src="{{ image.src }}" />

                        <span class="photo-date">{{ image.uploadedAt | date("d.m.Y", "Europe/Warsaw") }}</span>
                    </a>

                {% endfor %} 
                  
            </div>

            <div class="image-operation__table-container">
                <div class="table-responsive-vertical">
                    <table class="table table-hover table-striped">
                        <thead>
                            <th>Format</th>
                            <th>Nazwa pliku</th>
                            <th>Rozmiar</th>
                            <th>Data Modyfikacji</th>
                            <th>Akcje</th>
                        </thead>
                        <tbody>

                            {% for image in userImages %}

                            <tr>
                                <td>
                                    <span class="mx-auto badge">{{ image.mimeType | replace({'image/': ''}) }}</span>
                                </td>
                                <td>{{ image.name }}</td>
                                <td>{{ image.size | formatBytes }}</td>
                                <td>{{ image.uploadedAt | date("d.m.Y", "Europe/Warsaw") }}</td>
                                <td>
                                    <a href="{{ image.src }}" download class="mx-auto badge image-operation__item-download">
                                        <i class="fa-solid fa-circle-down image-operation__item-download-icon"></i>
                                        <span>Pobierz</span>
                                    </a>
                                </td>
                            </tr>

                            {% endfor %}

                        </tbody>
                    </table>
                    <div class="table-footer"></div>
                </div>
            </div>

        </section> 

        {% endif %}

    </div>

</div>