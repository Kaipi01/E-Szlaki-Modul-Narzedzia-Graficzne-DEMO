{% extends 'graphics_tools_module/panel.html.twig' %}

{% block title %}Narzędzia Graficzne | Edytor{% endblock %}

{% block panel_stylesheets %} 
    <link rel="stylesheet" href="{{ asset('graphics-tools-module/libs/cropper.min.css') }}">
    <link rel="stylesheet" href="{{ asset('graphics-tools-module/css/editor-panel.css') }}">
{% endblock %}

{% block panel_content %}

    <div class="main-area" id="graphics-tools-module-editor">

        <div class="editor-top-content modern-card">
            <div class="area-header-wrapper">
                <p class="area-header"><i class="fa-solid fa-screwdriver-wrench"></i> Edytor</p>

                <div id="editor-actions" hidden class="editor-actions">
                    <button id="remove-image-button" class="link medium variant-red">
                        <i class="fas fa-cancel"></i> Usuń grafikę
                    </button>

                    <button id="reset-all-button" class="link medium variant2">
                        <i class="fas fa-undo-alt"></i> Resetuj wszystko
                    </button>

                    <button id="export-button" class="link medium variant2">
                        <i class="fas fa-download"></i> Eksportuj
                    </button>
                </div>
            </div> 

            <div class="panel__alerts" data-operation-alerts>
                <custom-alert data-message="Wybranie plików automatycznie rozpocznie operacje"></custom-alert>
            </div>
        </div>

        {% include "graphics_tools_module/editor_panel/editor-module.html.twig" %}

        {% include "graphics_tools_module/components/confirm-modal.html.twig" %}

    </div>

{% endblock %}

{% block panel_javascripts %}

<script>

    const EXPORT_IMAGE_URL = "{{ path('gtm_editor_api_export_image') }}"
    const GET_IMAGE_DATA_URL = "{{ GET_IMAGE_DATA_URL }}"

</script> 
    <script src="{{ asset('graphics-tools-module/libs/cropper.min.js') }}"></script>
    <script type="module" src="{{ asset('graphics-tools-module/js/panels/editor-panel/main.js') }}"></script>
{% endblock %}